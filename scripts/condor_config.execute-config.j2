# HTCondor Execute Node Configuration - Fixed
LOCAL_DIR = /var
RELEASE_DIR = /usr
CONDOR_HOST = htcondor-manager.default.svc.cluster.local
COLLECTOR_HOST = htcondor-manager.default.svc.cluster.local
DAEMON_LIST = MASTER, STARTD

# Network Configuration
NETWORK_INTERFACE = *
BIND_ALL_INTERFACES = true
USE_SHARED_PORT = false

# Security Configuration - Simplified
SEC_DEFAULT_AUTHENTICATION = OPTIONAL
SEC_DEFAULT_AUTHENTICATION_METHODS = PASSWORD, FS, ANON
SEC_PASSWORD_FILE = /etc/condor/passwords.d/POOL
SEC_DAEMON_AUTHENTICATION = OPTIONAL
SEC_DAEMON_AUTHENTICATION_METHODS = PASSWORD, FS, ANON
SEC_CLIENT_AUTHENTICATION = OPTIONAL
SEC_CLIENT_AUTHENTICATION_METHODS = PASSWORD, FS, ANON

# Access Control - Allow everything
ALLOW_READ = *
ALLOW_WRITE = *
ALLOW_DAEMON = *
ALLOW_NEGOTIATOR = *
ALLOW_ADMINISTRATOR = *

# Performance Tuning
SCHEDD_INTERVAL = 5
NEGOTIATOR_INTERVAL = 2
NEGOTIATOR_CYCLE_DELAY = 5
STARTER_UPDATE_INTERVAL = 5
SHADOW_QUEUE_UPDATE_INTERVAL = 10
UPDATE_INTERVAL = 5
RUNBENCHMARKS = 0


# Resource Configuration
SLOT_PARTITIONING = cpus

# Disable problematic features
ENABLE_STARTD_DAEMON_AD = false
GPU_DISCOVERY_EXTRA =
POWER_STATE_SCRIPT =

# Debug settings
STARTD_DEBUG = D_FULLDEBUG
STARTD_LOG = /var/log/condor/StartLog

# Disable SharedPort
SHARED_PORT = false
SHARED_PORT_FILE =

# Roles
use ROLE: Execute

# Account for different pki locations for Debian
AUTH_SSL_SERVER_CAFILE   = /etc/ssl/certs/ca-certificates.crt
AUTH_SSL_CLIENT_CAFILE   = /etc/ssl/certs/ca-certificates.crt
AUTH_SSL_SERVER_CERTFILE = /etc/ssl/certs/ssl-cert-snakeoil.pem
AUTH_SSL_SERVER_KEYFILE  = /etc/ssl/private/ssl-cert-snakeoil.key

SLOT_PARTITIONING = cpus


RUN     = $(LOCAL_DIR)/run/condor
LOG     = $(LOCAL_DIR)/log/condor
LOCK    = $(LOCAL_DIR)/lock/condor
SPOOL   = $(LOCAL_DIR)/spool/condor
EXECUTE = $(LOCAL_DIR)/lib/condor/execute
CRED_STORE_DIR = $(LOCAL_DIR)/lib/condor/cred_dir
ETC     = /etc/condor
BIN     = $(RELEASE_DIR)/bin
LIB     = $(RELEASE_DIR)/lib/condor
INCLUDE = $(RELEASE_DIR)/include/condor
SBIN    = $(RELEASE_DIR)/sbin
LIBEXEC = $(RELEASE_DIR)/libexec/condor
SHARE   = $(RELEASE_DIR)/share/condor
GANGLIA_LIB64_PATH = /lib,/usr/lib,/usr/local/lib